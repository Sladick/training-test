<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://unpkg.com/imask"></script>
<!--    <link rel="stylesheet" href="static/js/jquery.js">-->
</head>
<body>
<form method="post" id="form" action="/">
    <h4>Имя</h4>
    <input type="text" name="userName" id="name" size="40">
    <h4>Фамилия</h4>
    <input type="text" name="userSurname" id="surname" size="40">

    <div><h4>Пол:</h4>
   <input type="radio" name="gender" value="Man">Мужчина
   <input type="radio" name="gender" value="Women">Женщина
    </div><br>

    <div>
    <input type="checkbox" id="citizen" name="citizen">
    <label for="citizen">Гражданин РФ</label>
    </div> <br>
    <h4>Дата рождения:</h4>
    <input type="date" id="dateBorn" name="dateBorn"
       value="1990.01.01"
       min="1900.01.01" max="2021.12.31">

    <h4>Образование</h4>
    <p><select name="education">
    <option>Выберите образование</option>
    <option value="1">Среднее</option>
    <option value="2">Высшее неоконченное</option>
    <option value="3">Высшее</option>
    </select></p>

    <h4>О себе:</h4>
    <textarea name="comment" id="comment"></textarea>
    <br>
    <br>
    <div class="row">
        <label for="phone">Телефон</label>
    </div>
    <div class="row">
        <input type="text" name="phone" id="phone" placeholder="+7(XXX)XXX-XX-XX"/>
    </div>
    <br>
    <div>
        <button id="save" type="submit">Сохранить</button>
    </div>
</form>
<div id="msg"></div>
<script>
/* переопределить поведение кнопки "Отправить" */
        $(document).ready(function () {
            $("#form" ).submit(function( event ) {
              sendAjaxForm("form");
              event.preventDefault();
            });
        });


        /* отправка формы через ajax */
        function sendAjaxForm(form_ajax) {
            var form = $("#" + form_ajax);
            $.ajax({
                type: form.attr('method'),
                url: form.attr('action'),
                data: form.serialize(),
            });
            form.trigger('reset');
        };
</script>
<script>
    var element = document.getElementById('phone');
    var maskOptions = {
    mask: '+{7}(000)000-00-00'
    };
    var mask = IMask(element, maskOptions);
</script>




<script>
    'use strict'
    document.addEventListener('DOMContentLoaded' , function(){
    const form = document.getElementById('form');
    form.addEventListener('submit', formSend);

    async function formSend(e){
    e.preventDefault();

    var name = document.getElementById('name').value;
    var surname = document.getElementById('surname').value;
    console.log(surname)
    let formData = new FormData(form);
    if(name & surname & name[0]==name[0].toUpperCase & surname[0]==surname[0].toUpperCase) {
    let response = await fetch('/',{
    method:'POST',
    body: formData
    });
    if(response.ok){
    let result = await response.json();
    form.reset();
    }
    }
    }
    });
</script>
</body>
</html>

